{
  "$schema": "https://schemas.denna.io/v1/sky/prime-pnl-params.schema.json",
  "metadata": {
    "kind": "io.sky.pnl.prime.lending",
    "name": "Spark — Lending Position Classifications",
    "version": "1.0.0",
    "description": "SparkLend-specific address classifications that affect PnL treatment, and SparkLend pool/underlying mappings used for utilization rate lookups.",
    "source": {
      "references": [
        "src/lib/pnl-utils/constants/addresses.ts",
        "src/lib/debt-pnl/constants.ts:115-168",
        "TOKENS.ts extra_data.markets"
      ]
    }
  },
  "parameters": {
    "calculationModules": [],
    "addressClassifications": {
      "billAlways": [
        { "address": { "value": "0x779224df1c756b4edd899854f32a53e8c2b2ce5d", "format": "evm" }, "asset": "spPYUSD", "reason": "PYUSD SparkLend — always charged at full base rate" },
        { "address": { "value": "0xe7df13b8e3d6740fe17cbe928c7334243d86c92f", "format": "evm" }, "asset": "spUSDT", "reason": "USDT SparkLend — always charged at full base rate" },
        { "address": { "value": "0x6c3ea9036406852006290770bedfcaba0e23a0e8", "format": "evm" }, "asset": "PYUSD (in-wallet)", "reason": "PayPal asset — always charged at full base rate" }
      ],
      "skyTakesAll": [
        { "address": { "value": "0x6a9da2d710bb9b700acde7cb81f10f1ff8c89041", "format": "evm" }, "asset": "BUIDL", "reason": "BlackRock — Sky takes all profit; star doesn't pay for underperformance" },
        { "address": { "value": "0x4c9edd5852cd905f086c759e8383e09bff1e68b3", "format": "evm" }, "asset": "USDe", "reason": "Ethena — Sky takes all profit; star doesn't pay for underperformance" }
      ],
      "simplePeriodReturn": [
        { "address": { "value": "0xfa82580c16a31d0c1bc632a36f82e83efef3eec0", "format": "evm" }, "asset": "aEthRLUSD", "reason": "Period return treated as annual rate (not annualized)" },
        { "address": { "value": "0xe3190143eb552456f88464662f0c0c4ac67a77eb", "format": "evm" }, "asset": "aHorRwaRLUSD", "reason": "Period return treated as annual rate (not annualized)" }
      ],
      "directRate": [
        { "address": { "value": "0xe7df13b8e3d6740fe17cbe928c7334243d86c92f", "format": "evm" }, "asset": "spUSDT", "reason": "Governance-defined fixed rate — use liquidity index growth" },
        { "address": { "value": "0x377c3bd93f2a2984e1e7be6a5c22c525ed4a4815", "format": "evm" }, "asset": "spUSDC", "reason": "Governance-defined fixed rate — use liquidity index growth" },
        { "address": { "value": "0x779224df1c756b4edd899854f32a53e8c2b2ce5d", "format": "evm" }, "asset": "spPYUSD", "reason": "Governance-defined fixed rate — use liquidity index growth" }
      ],
      "ssrFunded": [
        { "address": { "value": "0xe7df13b8e3d6740fe17cbe928c7334243d86c92f", "format": "evm" }, "asset": "spUSDT", "reason": "Has significant saving_V2 cost — idle capital SSR cost deducted from star_revenue" }
      ],
      "usdsSsr": [
        { "address": { "value": "0xc02ab1a5eaa8d1b114ef786d9bde108cd4364359", "format": "evm" }, "asset": "spUSDS", "reason": "Use sUSDS price growth as custom base rate" }
      ]
    },
    "sparkLendConfig": {
      "poolAddress": { "value": "0xc13e21b648a5ee794902342038ff3adab66be987", "format": "evm" },
      "underlyingMappings": [
        {
          "spToken":    { "value": "0xe7df13b8e3d6740fe17cbe928c7334243d86c92f", "format": "evm" },
          "underlying": { "value": "0xdac17f958d2ee523a2206206994597c13d831ec7", "format": "evm" },
          "symbol": "USDT"
        },
        {
          "spToken":    { "value": "0x779224df1c756b4edd899854f32a53e8c2b2ce5d", "format": "evm" },
          "underlying": { "value": "0x6c3ea9036406852006290770bedfcaba0e23a0e8", "format": "evm" },
          "symbol": "PYUSD"
        },
        {
          "spToken":    { "value": "0xc02ab1a5eaa8d1b114ef786d9bde108cd4364359", "format": "evm" },
          "underlying": { "value": "0xdc035d45d973e3ec169d2276ddab16f1e407384f", "format": "evm" },
          "symbol": "USDS"
        },
        {
          "spToken":    { "value": "0x4dedf26112b3ec8ec46e7e31ea5e123490b05b8b", "format": "evm" },
          "underlying": { "value": "0x6b175474e89094c44da98b954eedeac495271d0f", "format": "evm" },
          "symbol": "DAI"
        },
        {
          "spToken":    { "value": "0x377c3bd93f2a2984e1e7be6a5c22c525ed4a4815", "format": "evm" },
          "underlying": { "value": "0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48", "format": "evm" },
          "symbol": "USDC"
        }
      ]
    }
  }
}
