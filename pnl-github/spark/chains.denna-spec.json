{
  "$schema": "https://schemas.denna.io/v1/defi/prime-config.schema.json",
  "metadata": {
    "kind": "io.sky.pnl.prime.chains",
    "name": "Spark — Chain Configuration",
    "version": "1.0.0",
    "description": "Spark chain configuration: active chains, ALM proxy addresses, vault proxy, PSM3 contracts, sUSDS oracle addresses, and debt source.",
    "source": {
      "references": [
        "src/lib/debt-pnl/constants.ts:12",
        "TOKENS.ts:972-988",
        "TOKENS.ts wallet_address fields"
      ]
    }
  },
  "parameters": {
    "chains": [
      {
        "id": "ethereum",
        "name": "Ethereum",
        "almProxy": { "value": "0x1601843c5e9bc251a3272907010afa41fa18347e", "format": "evm" },
        "vaultProxy": { "value": "0x691a6c29e9e96dd897718305427ad5d534db16ba", "format": "evm" },
        "features": {
          "alm": true,
          "psm3": false,
          "lending": true,
          "idleStablecoins": true,
          "susds": true,
          "inPnlChains": true
        },
        "notes": "Primary chain. Debt sourced from Vat. sUSDS is ERC4626 — excluded from explicit 30bps spread."
      },
      {
        "id": "base",
        "name": "Base",
        "almProxy": { "value": "0x2917956eff0b5eaf030abdb4ef4296df775009ca", "format": "evm" },
        "features": {
          "alm": true,
          "psm3": true,
          "lending": true,
          "idleStablecoins": true,
          "susds": true,
          "inPnlChains": true
        }
      },
      {
        "id": "arbitrum",
        "name": "Arbitrum",
        "almProxy": { "value": "0x92afd6f2385a90e44da3a8b60fe36f6cbe1d8709", "format": "evm" },
        "features": {
          "alm": true,
          "psm3": true,
          "lending": true,
          "idleStablecoins": true,
          "susds": true,
          "inPnlChains": true
        }
      },
      {
        "id": "optimism",
        "name": "Optimism",
        "almProxy": { "value": "0x876664f0c9ff24d1aa355ce9f1680ae1a5bf36fb", "format": "evm" },
        "features": {
          "alm": true,
          "psm3": true,
          "lending": false,
          "idleStablecoins": true,
          "susds": true,
          "inPnlChains": true
        }
      },
      {
        "id": "unichain",
        "name": "Unichain",
        "almProxy": { "value": "0x345e368fccd62266b3f5f37c9a131fd1c39f5869", "format": "evm" },
        "features": {
          "alm": true,
          "psm3": true,
          "lending": false,
          "idleStablecoins": true,
          "susds": true,
          "inPnlChains": true
        }
      },
      {
        "id": "avalanche",
        "name": "Avalanche",
        "almProxy": { "value": "0xece6b0e8a54c2f44e066fbb9234e7157b15b7fec", "format": "evm" },
        "features": {
          "alm": true,
          "psm3": false,
          "lending": true,
          "idleStablecoins": false,
          "susds": false,
          "inPnlChains": false
        },
        "notes": "Present in TOKENS.ts but not in STAR_CHAINS for debt PnL. Added later."
      }
    ],
    "psm3": [
      { "chain": "base",     "address": { "value": "0x1601843c5e9bc251a3272907010afa41fa18347e", "format": "evm" } },
      { "chain": "arbitrum", "address": { "value": "0x2b05f8e1cacc6974fd79a673a341fe1f58d27266", "format": "evm" } },
      { "chain": "optimism", "address": { "value": "0xe0f9978b907853f354d79188a3defbd41978af62", "format": "evm" } },
      { "chain": "unichain", "address": { "value": "0x7b42ed932f26509465f7ce3faf76ffce1275312f", "format": "evm" } }
    ],
    "oracleAddresses": [
      { "chain": "base",     "address": { "value": "0xeC0C14Ea7fF20F104496d960FDEBF5a0a0cC14D0", "format": "evm" }, "source": "TOKENS.ts extra_data", "notes": "sUSDS price oracle on Base" },
      { "chain": "arbitrum", "address": { "value": "0x73750DbD85753074e452B2C27fB9e3B0E75Ff3B8", "format": "evm" }, "source": "TOKENS.ts extra_data", "notes": "sUSDS price oracle on Arbitrum" },
      { "chain": "optimism", "address": { "value": "0x15ACEE5F73b36762Ab1a6b7C98787b8148447898", "format": "evm" }, "source": "TOKENS.ts extra_data", "notes": "sUSDS price oracle on Optimism" },
      { "chain": "unichain", "address": { "value": "0x93c81ADc7F98FdBC8C7a15eCBeD312c8F6adbcB3", "format": "evm" }, "source": "TOKENS.ts extra_data", "notes": "sUSDS price oracle on Unichain" }
    ],
    "debtSource": {
      "chain": "ethereum",
      "vatAddress": { "value": "0x35d1b3f3d7966a1dfe207aa4514c12a259a0492b", "format": "evm" },
      "notes": "Debt read from star_allocation_systems.debt (hourly snapshots)."
    },
    "allocations": {}
  }
}
